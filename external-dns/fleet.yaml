defaultNamespace: dns-system

dependsOn:
  - name: homelab-cluster-sealed-secrets

helm:
  chart: oci://registry-1.docker.io/bitnamicharts/external-dns
  version: 7.1.2
  values:
    sources:
      - gateway-httproute
      - gateway-grpcroute
      - gateway-tlsroute
      - gateway-tcproute
      - gateway-udproute
    provider: pihole
    registry: noop
    pihole:
      server: http://pihole-web
      secretName: external-dns-pihole-credentials
    extraDeploy:
      - apiVersion: bitnami.com/v1alpha1
        kind: SealedSecret
        metadata:
          creationTimestamp: null
          name: external-dns-pihole-credentials
          namespace: dns-system
        spec:
          encryptedData:
            pihole_password: AgDDUiBFPLrzi0DB1r8WQ7q5dR5rZbpZ9YsG3De0s2kRmNVYNzXNeyhKdLUE8BvLGipLUJ2BuWHpK+Wdqa4F3Gr2AyIrR9bpPjSzVSRyyrieaLVaZUpg2bCUVOzPZ0+XwemGiNNfzNZnn2V5Htp3xCvhiUD7U2FLsgxANcoLPvIMRCEm4n22FWEPbyJSJmWpo6c8TME1bSO+/8veGX0vgE/jUT9FfQJRKm6SZsQEeY6bDbl162NGhACXLWjqzUn8gYPqKEpKqZyLWitdmKGAOgffWzcatEvB8AHxIlVNe+v6iSBbVYoQCtziAF9tkcdTrkQL8yd1MGU0NYd4KsOuduMkee+uTfSA4/OY4rwdKhRmmV90WIS1IXQ5u2snV4TwdRAAHtNjAsWxCrhZvLcPyeYJ97rLoNCref52NbnF1HZmNMWaZXKbqmDo1/XfoiHy9B2ivQnqy7ZPE5DSvoOiayAnoLyOSR74C5jYxCq/O6b4gBhQP4pihCpw6iiSRRxL7EiiT0tT0TSgqOe4u7UjXZWMeY1+8HXE1MfyhW9QcDtUZyIABzt6Rns/qp/WVyBR+4ANCbqmUENj0h1AK78NoYDn0GmVgj9SPxVg+35NyXfOmYOoSXFiS5GIbUCQp8JzrkaqYusOsa0C0zJlRL8SVpnVf5woNazgBViAuaShHisTELybP6rNm4NVtclUEJvCg/7q9RuA42CfMpEWKRjlT6mcsovWLJ7GAaeScQfWnvp1CA==
          template:
            metadata:
              creationTimestamp: null
              name: external-dns-pihole-credentials
              namespace: dns-system
